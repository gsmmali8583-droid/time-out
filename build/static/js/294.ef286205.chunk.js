"use strict";(self.webpackChunkecommerce_client=self.webpackChunkecommerce_client||[]).push([[294],{6294(s,a,e){e.r(a),e.d(a,{default:()=>o});var c=e(5043),i=e(3216),l=e(8254),t=e(5169),n=e(2254),r=e(9643),d=e(579);const o=()=>{var s,a;const{id:e}=(0,i.g)(),o=(0,i.Zp)(),{addToCart:m}=(0,t._$)(),{addToWishlist:h,isInWishlist:u}=(0,n.nU)(),[x,j]=(0,c.useState)(null),[p,N]=(0,c.useState)(!0),[b,g]=(0,c.useState)(null),[v,k]=(0,c.useState)(1),[I,S]=(0,c.useState)(0);(0,c.useEffect)(()=>{e&&(async()=>{try{N(!0);const s=await fetch("http://localhost:5000/api/products/".concat(e)),a=await s.json();a.success?j(a.data.product):g("Product not found")}catch(s){g("Failed to load product")}finally{N(!1)}})()},[e]);const C=s=>{s>=1&&s<=x.stock&&k(s)};return p?(0,d.jsx)(r.A,{}):b?(0,d.jsx)("div",{className:"product-detail-page",children:(0,d.jsx)("div",{className:"container",children:(0,d.jsxs)("div",{className:"error-message",children:[(0,d.jsx)("h2",{children:"Error"}),(0,d.jsx)("p",{children:b}),(0,d.jsx)("button",{onClick:()=>o("/products"),className:"btn btn-primary",children:"Back to Products"})]})})}):x?(0,d.jsx)("div",{className:"product-detail-page",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("div",{className:"breadcrumb",children:(0,d.jsxs)("button",{onClick:()=>o(-1),className:"btn btn-ghost back-btn",children:[(0,d.jsx)(l.kRp,{})," Back"]})}),(0,d.jsxs)("div",{className:"product-detail-content",children:[(0,d.jsxs)("div",{className:"product-images",children:[(0,d.jsx)("div",{className:"main-image",children:(0,d.jsx)("img",{src:(null===(s=x.images)||void 0===s||null===(a=s[I])||void 0===a?void 0:a.url)||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyMCIgZmlsbD0iIzAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSI+Tm8gSW1hZ2U8L3RleHQ+PC9zdmc+",alt:x.name,className:"product-main-image"})}),x.images&&x.images.length>1&&(0,d.jsx)("div",{className:"image-thumbnails",children:x.images.map((s,a)=>(0,d.jsx)("img",{src:s.url,alt:"".concat(x.name," ").concat(a+1),className:"thumbnail ".concat(I===a?"active":""),onClick:()=>S(a)},a))})]}),(0,d.jsxs)("div",{className:"product-info",children:[(0,d.jsx)("h1",{className:"product-title",children:x.name}),(0,d.jsxs)("div",{className:"product-rating",children:[(0,d.jsx)("div",{className:"stars",children:[1,2,3,4,5].map(s=>(0,d.jsx)(l.usP,{className:s<=Math.floor(x.averageRating)?"star filled":"star"},s))}),(0,d.jsxs)("span",{className:"rating-text",children:[x.averageRating," (",x.totalReviews," reviews)"]})]}),(0,d.jsx)("div",{className:"product-price",children:x.finalPrice<x.basePrice?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("span",{className:"current-price",children:["\u20b9",x.finalPrice.toLocaleString("en-IN")]}),(0,d.jsxs)("span",{className:"original-price",children:["\u20b9",x.basePrice.toLocaleString("en-IN")]}),(0,d.jsxs)("span",{className:"discount-badge",children:[Math.round((x.basePrice-x.finalPrice)/x.basePrice*100),"% OFF"]})]}):(0,d.jsxs)("span",{className:"current-price",children:["\u20b9",x.basePrice.toLocaleString("en-IN")]})}),(0,d.jsx)("div",{className:"stock-status",children:x.stock>0?(0,d.jsxs)("span",{className:"in-stock",children:["In Stock (",x.stock," available)"]}):(0,d.jsx)("span",{className:"out-of-stock",children:"Out of Stock"})}),(0,d.jsxs)("div",{className:"product-description",children:[(0,d.jsx)("h3",{children:"Description"}),(0,d.jsx)("p",{children:x.description}),x.shortDescription&&(0,d.jsx)("p",{className:"short-description",children:x.shortDescription})]}),(0,d.jsxs)("div",{className:"quantity-selector",children:[(0,d.jsx)("label",{children:"Quantity:"}),(0,d.jsxs)("div",{className:"quantity-controls",children:[(0,d.jsx)("button",{className:"quantity-btn",onClick:()=>C(v-1),disabled:v<=1,children:(0,d.jsx)(l.QLg,{})}),(0,d.jsx)("span",{className:"quantity-value",children:v}),(0,d.jsx)("button",{className:"quantity-btn",onClick:()=>C(v+1),disabled:v>=x.stock,children:(0,d.jsx)(l.GGD,{})})]})]}),(0,d.jsxs)("div",{className:"product-actions",children:[(0,d.jsxs)("button",{className:"btn btn-primary add-to-cart-btn",onClick:()=>{if(x){m(x,null,v)&&o("/cart")}},disabled:0===x.stock,children:[(0,d.jsx)(l.iHs,{}),0===x.stock?"Out of Stock":"Add to Cart - \u20b9".concat((x.finalPrice*v).toLocaleString("en-IN"))]}),(0,d.jsxs)("button",{className:"btn btn-ghost wishlist-btn ".concat(u(x._id)?"active":""),onClick:()=>{x&&h(x)},children:[(0,d.jsx)(l.icx,{}),u(x._id)?"Remove from Wishlist":"Add to Wishlist"]})]}),(0,d.jsxs)("div",{className:"product-details",children:[(0,d.jsx)("h3",{children:"Product Details"}),(0,d.jsxs)("div",{className:"details-grid",children:[(0,d.jsxs)("div",{className:"detail-item",children:[(0,d.jsx)("span",{className:"label",children:"Category:"}),(0,d.jsx)("span",{className:"value",children:x.category})]}),x.subcategory&&(0,d.jsxs)("div",{className:"detail-item",children:[(0,d.jsx)("span",{className:"label",children:"Subcategory:"}),(0,d.jsx)("span",{className:"value",children:x.subcategory})]}),(0,d.jsxs)("div",{className:"detail-item",children:[(0,d.jsx)("span",{className:"label",children:"Brand:"}),(0,d.jsx)("span",{className:"value",children:x.brand})]}),(0,d.jsxs)("div",{className:"detail-item",children:[(0,d.jsx)("span",{className:"label",children:"SKU:"}),(0,d.jsx)("span",{className:"value",children:x.sku})]})]})]})]})]})]})}):null}}}]);
//# sourceMappingURL=294.ef286205.chunk.js.map