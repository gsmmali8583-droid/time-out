{"version":3,"file":"static/js/294.ef286205.chunk.js","mappings":"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","sources":["pages/Products/ProductDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { FiHeart, FiShoppingCart, FiStar, FiMinus, FiPlus, FiArrowLeft } from 'react-icons/fi';\nimport { useCart } from '../../context/CartContext';\nimport { useWishlist } from '../../context/WishlistContext';\nimport LoadingSpinner from '../../components/UI/LoadingSpinner';\n\nconst ProductDetail = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const { addToCart } = useCart();\n  const { addToWishlist, isInWishlist } = useWishlist();\n\n  const [product, setProduct] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [quantity, setQuantity] = useState(1);\n  const [selectedImage, setSelectedImage] = useState(0);\n\n  useEffect(() => {\n    const fetchProduct = async () => {\n      try {\n        setLoading(true);\n        const response = await fetch(`http://localhost:5000/api/products/${id}`);\n        const data = await response.json();\n\n        if (data.success) {\n          setProduct(data.data.product);\n        } else {\n          setError('Product not found');\n        }\n      } catch (err) {\n        setError('Failed to load product');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (id) {\n      fetchProduct();\n    }\n  }, [id]);\n\n  const handleAddToCart = () => {\n    if (product) {\n      const success = addToCart(product, null, quantity);\n      if (success) {\n        navigate('/cart');\n      }\n    }\n  };\n\n  const handleAddToWishlist = () => {\n    if (product) {\n      addToWishlist(product);\n    }\n  };\n\n  const updateQuantity = (newQuantity) => {\n    if (newQuantity >= 1 && newQuantity <= product.stock) {\n      setQuantity(newQuantity);\n    }\n  };\n\n  if (loading) return <LoadingSpinner />;\n  if (error) return (\n    <div className=\"product-detail-page\">\n      <div className=\"container\">\n        <div className=\"error-message\">\n          <h2>Error</h2>\n          <p>{error}</p>\n          <button onClick={() => navigate('/products')} className=\"btn btn-primary\">\n            Back to Products\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n  if (!product) return null;\n\n  return (\n    <div className=\"product-detail-page\">\n      <div className=\"container\">\n        {/* Breadcrumb */}\n        <div className=\"breadcrumb\">\n          <button onClick={() => navigate(-1)} className=\"btn btn-ghost back-btn\">\n            <FiArrowLeft /> Back\n          </button>\n        </div>\n\n        <div className=\"product-detail-content\">\n          {/* Product Images */}\n          <div className=\"product-images\">\n            <div className=\"main-image\">\n              <img\n                src={product.images?.[selectedImage]?.url || 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyMCIgZmlsbD0iIzAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSI+Tm8gSW1hZ2U8L3RleHQ+PC9zdmc+'}\n                alt={product.name}\n                className=\"product-main-image\"\n              />\n            </div>\n            {product.images && product.images.length > 1 && (\n              <div className=\"image-thumbnails\">\n                {product.images.map((image, index) => (\n                  <img\n                    key={index}\n                    src={image.url}\n                    alt={`${product.name} ${index + 1}`}\n                    className={`thumbnail ${selectedImage === index ? 'active' : ''}`}\n                    onClick={() => setSelectedImage(index)}\n                  />\n                ))}\n              </div>\n            )}\n          </div>\n\n          {/* Product Info */}\n          <div className=\"product-info\">\n            <h1 className=\"product-title\">{product.name}</h1>\n\n            {/* Rating */}\n            <div className=\"product-rating\">\n              <div className=\"stars\">\n                {[1,2,3,4,5].map((star) => (\n                  <FiStar\n                    key={star}\n                    className={star <= Math.floor(product.averageRating) ? 'star filled' : 'star'}\n                  />\n                ))}\n              </div>\n              <span className=\"rating-text\">\n                {product.averageRating} ({product.totalReviews} reviews)\n              </span>\n            </div>\n\n            {/* Price */}\n            <div className=\"product-price\">\n              {product.finalPrice < product.basePrice ? (\n                <>\n                  <span className=\"current-price\">₹{product.finalPrice.toLocaleString('en-IN')}</span>\n                  <span className=\"original-price\">₹{product.basePrice.toLocaleString('en-IN')}</span>\n                  <span className=\"discount-badge\">\n                    {Math.round(((product.basePrice - product.finalPrice) / product.basePrice) * 100)}% OFF\n                  </span>\n                </>\n              ) : (\n                <span className=\"current-price\">₹{product.basePrice.toLocaleString('en-IN')}</span>\n              )}\n            </div>\n\n            {/* Stock Status */}\n            <div className=\"stock-status\">\n              {product.stock > 0 ? (\n                <span className=\"in-stock\">In Stock ({product.stock} available)</span>\n              ) : (\n                <span className=\"out-of-stock\">Out of Stock</span>\n              )}\n            </div>\n\n            {/* Description */}\n            <div className=\"product-description\">\n              <h3>Description</h3>\n              <p>{product.description}</p>\n              {product.shortDescription && (\n                <p className=\"short-description\">{product.shortDescription}</p>\n              )}\n            </div>\n\n            {/* Quantity Selector */}\n            <div className=\"quantity-selector\">\n              <label>Quantity:</label>\n              <div className=\"quantity-controls\">\n                <button\n                  className=\"quantity-btn\"\n                  onClick={() => updateQuantity(quantity - 1)}\n                  disabled={quantity <= 1}\n                >\n                  <FiMinus />\n                </button>\n                <span className=\"quantity-value\">{quantity}</span>\n                <button\n                  className=\"quantity-btn\"\n                  onClick={() => updateQuantity(quantity + 1)}\n                  disabled={quantity >= product.stock}\n                >\n                  <FiPlus />\n                </button>\n              </div>\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"product-actions\">\n              <button\n                className=\"btn btn-primary add-to-cart-btn\"\n                onClick={handleAddToCart}\n                disabled={product.stock === 0}\n              >\n                <FiShoppingCart />\n                {product.stock === 0 ? 'Out of Stock' : `Add to Cart - ₹${(product.finalPrice * quantity).toLocaleString('en-IN')}`}\n              </button>\n\n              <button\n                className={`btn btn-ghost wishlist-btn ${isInWishlist(product._id) ? 'active' : ''}`}\n                onClick={handleAddToWishlist}\n              >\n                <FiHeart />\n                {isInWishlist(product._id) ? 'Remove from Wishlist' : 'Add to Wishlist'}\n              </button>\n            </div>\n\n            {/* Product Details */}\n            <div className=\"product-details\">\n              <h3>Product Details</h3>\n              <div className=\"details-grid\">\n                <div className=\"detail-item\">\n                  <span className=\"label\">Category:</span>\n                  <span className=\"value\">{product.category}</span>\n                </div>\n                {product.subcategory && (\n                  <div className=\"detail-item\">\n                    <span className=\"label\">Subcategory:</span>\n                    <span className=\"value\">{product.subcategory}</span>\n                  </div>\n                )}\n                <div className=\"detail-item\">\n                  <span className=\"label\">Brand:</span>\n                  <span className=\"value\">{product.brand}</span>\n                </div>\n                <div className=\"detail-item\">\n                  <span className=\"label\">SKU:</span>\n                  <span className=\"value\">{product.sku}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductDetail;\n"],"names":["ProductDetail","_product$images","_product$images$selec","id","useParams","navigate","useNavigate","addToCart","useCart","addToWishlist","isInWishlist","useWishlist","product","setProduct","useState","loading","setLoading","error","setError","quantity","setQuantity","selectedImage","setSelectedImage","useEffect","async","response","fetch","concat","data","json","success","err","fetchProduct","updateQuantity","newQuantity","stock","_jsx","LoadingSpinner","className","children","_jsxs","onClick","FiArrowLeft","src","images","url","alt","name","length","map","image","index","star","FiStar","Math","floor","averageRating","totalReviews","finalPrice","basePrice","_Fragment","toLocaleString","round","description","shortDescription","disabled","FiMinus","FiPlus","handleAddToCart","FiShoppingCart","_id","handleAddToWishlist","FiHeart","category","subcategory","brand","sku"],"ignoreList":[],"sourceRoot":""}