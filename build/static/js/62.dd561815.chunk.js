"use strict";(self.webpackChunkecommerce_client=self.webpackChunkecommerce_client||[]).push([[62],{4062(e,s,a){a.r(s),a.d(s,{default:()=>o});var c=a(5043),i=a(5475),t=a(8254),n=a(5523),r=a(9643),l=a(579);const o=()=>{const[e,s]=(0,i.ok)(),[a,o]=(0,c.useState)("grid"),[d,h]=(0,c.useState)("name"),[u,p]=(0,c.useState)([]),[m,x]=(0,c.useState)(!0),[g,j]=(0,c.useState)(null),b=e.get("category"),v=e.get("subcategory"),N=e.get("search");(0,c.useEffect)(()=>{(async()=>{try{x(!0);const e=new URLSearchParams;b&&e.append("category",b),v&&e.append("subcategory",v),N&&e.append("search",N);const s="http://localhost:5000/api/products?".concat(e.toString());console.log("Fetching from:",s);const a=await fetch(s),c=await a.json();console.log("API Response:",c),c.success?p(c.data.products||[]):j("Failed to fetch products")}catch(e){console.error("Fetch error:",e),j("Network error")}finally{x(!1)}})()},[b,v,N]);const y=(a,c)=>{const i=new URLSearchParams(e);c?i.set(a,c):i.delete(a),s(i)};if(m)return(0,l.jsx)(r.A,{});if(g)return(0,l.jsx)("div",{className:"container",children:(0,l.jsxs)("p",{children:["Error: ",g]})});const f=u.length;return(0,l.jsx)("div",{className:"products-page",children:(0,l.jsxs)("div",{className:"container",children:[(0,l.jsxs)("div",{className:"products-header",children:[(0,l.jsxs)("div",{className:"header-left",children:[(0,l.jsx)("h1",{children:"Products"}),(0,l.jsxs)("p",{children:[f," products found"]})]}),(0,l.jsxs)("div",{className:"header-right",children:[(0,l.jsxs)("div",{className:"view-controls",children:[(0,l.jsx)("button",{className:"view-btn ".concat("grid"===a?"active":""),onClick:()=>o("grid"),children:(0,l.jsx)(t.QPV,{})}),(0,l.jsx)("button",{className:"view-btn ".concat("list"===a?"active":""),onClick:()=>o("list"),children:(0,l.jsx)(t.Wm,{})})]}),(0,l.jsxs)("select",{value:d,onChange:e=>h(e.target.value),className:"sort-select",children:[(0,l.jsx)("option",{value:"name",children:"Sort by Name"}),(0,l.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,l.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,l.jsx)("option",{value:"rating",children:"Highest Rated"})]})]})]}),(0,l.jsxs)("div",{className:"products-content",children:[(0,l.jsxs)("div",{className:"filters-sidebar",children:[(0,l.jsxs)("div",{className:"filter-section",children:[(0,l.jsx)("h3",{children:"Categories"}),(0,l.jsxs)("div",{className:"filter-options",children:[(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"radio",name:"category",checked:!b,onChange:()=>y("category","")}),"All Categories"]}),(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"radio",name:"category",checked:"electronics"===b,onChange:()=>y("category","electronics")}),"Electronics"]}),(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"radio",name:"category",checked:"fashion"===b,onChange:()=>y("category","fashion")}),"Fashion"]})]})]}),"electronics"===b&&(0,l.jsxs)("div",{className:"filter-section",children:[(0,l.jsx)("h3",{children:"Electronics"}),(0,l.jsxs)("div",{className:"filter-options",children:[(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"radio",name:"subcategory",checked:!v,onChange:()=>y("subcategory","")}),"All Electronics"]}),(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"radio",name:"subcategory",checked:"mobiles"===v,onChange:()=>y("subcategory","mobiles")}),"Mobiles"]}),(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"radio",name:"subcategory",checked:"laptops"===v,onChange:()=>y("subcategory","laptops")}),"Laptops"]}),(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"radio",name:"subcategory",checked:"audio"===v,onChange:()=>y("subcategory","audio")}),"Audio"]})]})]}),"fashion"===b&&(0,l.jsxs)("div",{className:"filter-section",children:[(0,l.jsx)("h3",{children:"Fashion"}),(0,l.jsxs)("div",{className:"filter-options",children:[(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"radio",name:"subcategory",checked:!v,onChange:()=>y("subcategory","")}),"All Fashion"]}),(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"radio",name:"subcategory",checked:"mens"===v,onChange:()=>y("subcategory","mens")}),"Men's Wear"]}),(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"radio",name:"subcategory",checked:"womens"===v,onChange:()=>y("subcategory","womens")}),"Women's Wear"]})]})]}),(b||v)&&(0,l.jsx)("button",{className:"btn btn-secondary",onClick:()=>{s({})},children:"Clear Filters"})]}),(0,l.jsx)("div",{className:"products-main",children:0===u.length?(0,l.jsx)("div",{className:"no-products",children:(0,l.jsx)("p",{children:"No products found matching your criteria."})}):(0,l.jsx)("div",{className:"products-grid ".concat(a),children:u.map(e=>(0,l.jsx)(n.A,{product:e},e._id))})})]})]})})}},5523(e,s,a){a.d(s,{A:()=>l});a(5043);var c=a(5475),i=a(8254),t=a(5169),n=a(2254),r=a(579);const l=e=>{var s,a;let{product:l}=e;const{addToCart:o}=(0,t._$)(),{addToWishlist:d,isInWishlist:h}=(0,n.nU)();return(0,r.jsxs)("div",{className:"product-card",children:[(0,r.jsxs)(c.N_,{to:"/products/".concat(l._id),className:"product-link",children:[(0,r.jsxs)("div",{className:"product-image",children:[(0,r.jsx)("img",{src:(null===(s=l.images)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.url)||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyMCIgZmlsbD0iIzAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSI+Tm8gSW1hZ2U8L3RleHQ+PC9zdmc+",alt:l.name,style:{width:"100%",height:"200px",objectFit:"cover"}}),l.finalPrice<l.basePrice&&(0,r.jsxs)("span",{className:"discount-badge",children:[Math.round((l.basePrice-l.finalPrice)/l.basePrice*100),"% OFF"]})]}),(0,r.jsxs)("div",{className:"product-info",children:[(0,r.jsx)("h3",{className:"product-name",children:l.name}),(0,r.jsx)("p",{className:"product-description",children:l.description}),(0,r.jsxs)("div",{className:"product-rating",children:[(0,r.jsx)("div",{className:"stars",children:[1,2,3,4,5].map(e=>(0,r.jsx)(i.usP,{className:e<=Math.floor(l.averageRating)?"star filled":"star"},e))}),(0,r.jsxs)("span",{className:"rating-text",children:[l.averageRating," (",l.totalReviews," reviews)"]})]}),(0,r.jsx)("div",{className:"product-price",children:l.finalPrice<l.basePrice?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("span",{className:"current-price",children:["\u20b9",l.finalPrice.toLocaleString("en-IN")]}),(0,r.jsxs)("span",{className:"original-price",children:["\u20b9",l.basePrice.toLocaleString("en-IN")]})]}):(0,r.jsxs)("span",{className:"current-price",children:["\u20b9",l.basePrice.toLocaleString("en-IN")]})})]})]}),(0,r.jsxs)("div",{className:"product-actions",children:[(0,r.jsxs)("button",{className:"btn btn-primary add-to-cart",onClick:e=>{e.preventDefault(),o(l)},disabled:0===l.stock,children:[(0,r.jsx)(i.iHs,{}),0===l.stock?"Out of Stock":"Add to Cart"]}),(0,r.jsx)("button",{className:"btn btn-ghost wishlist-btn ".concat(h(l._id)?"active":""),onClick:e=>{e.preventDefault(),d(l)},children:(0,r.jsx)(i.icx,{})})]})]})}}}]);
//# sourceMappingURL=62.dd561815.chunk.js.map