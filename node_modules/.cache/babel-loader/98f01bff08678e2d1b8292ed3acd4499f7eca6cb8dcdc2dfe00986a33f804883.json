{"ast":null,"code":"import _objectSpread from\"C:/Users/gmudamali/Downloads/EcommerceApplication/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useContext,useReducer,useEffect}from'react';import{toast}from'react-hot-toast';import{useAuth}from'./AuthContext';import{jsx as _jsx}from\"react/jsx-runtime\";const CartContext=/*#__PURE__*/createContext();// Cart reducer\nconst cartReducer=(state,action)=>{switch(action.type){case'LOAD_CART':return _objectSpread(_objectSpread({},state),{},{items:action.payload.items||[],loading:false});case'ADD_ITEM':{const{product,variant,quantity=1}=action.payload;const existingItemIndex=state.items.findIndex(item=>item.product._id===product._id&&JSON.stringify(item.variant)===JSON.stringify(variant));let newItems;if(existingItemIndex>=0){// Update existing item quantity\nnewItems=state.items.map((item,index)=>index===existingItemIndex?_objectSpread(_objectSpread({},item),{},{quantity:item.quantity+quantity}):item);}else{// Add new item\nconst newItem={id:\"\".concat(product._id,\"-\").concat(JSON.stringify(variant)),product,variant,quantity,price:(variant===null||variant===void 0?void 0:variant.price)||product.finalPrice||product.basePrice,addedAt:new Date().toISOString()};newItems=[...state.items,newItem];}return _objectSpread(_objectSpread({},state),{},{items:newItems});}case'UPDATE_QUANTITY':{const{itemId,quantity}=action.payload;if(quantity<=0){return _objectSpread(_objectSpread({},state),{},{items:state.items.filter(item=>item.id!==itemId)});}return _objectSpread(_objectSpread({},state),{},{items:state.items.map(item=>item.id===itemId?_objectSpread(_objectSpread({},item),{},{quantity}):item)});}case'REMOVE_ITEM':return _objectSpread(_objectSpread({},state),{},{items:state.items.filter(item=>item.id!==action.payload.itemId)});case'CLEAR_CART':return _objectSpread(_objectSpread({},state),{},{items:[]});case'SET_LOADING':return _objectSpread(_objectSpread({},state),{},{loading:action.payload});case'APPLY_COUPON':return _objectSpread(_objectSpread({},state),{},{coupon:action.payload.coupon,discount:action.payload.discount});case'REMOVE_COUPON':return _objectSpread(_objectSpread({},state),{},{coupon:null,discount:0});case'SET_SHIPPING':return _objectSpread(_objectSpread({},state),{},{shipping:action.payload});default:return state;}};// Initial state\nconst initialState={items:[],loading:true,coupon:null,discount:0,shipping:{method:'standard',cost:0,estimatedDays:5}};export const CartProvider=_ref=>{let{children}=_ref;const[state,dispatch]=useReducer(cartReducer,initialState);const{isAuthenticated,user}=useAuth();// Load cart from localStorage on mount\nuseEffect(()=>{const savedCart=localStorage.getItem('cart');if(savedCart){try{const cartData=JSON.parse(savedCart);dispatch({type:'LOAD_CART',payload:cartData});}catch(error){console.error('Error loading cart from localStorage:',error);dispatch({type:'SET_LOADING',payload:false});}}else{dispatch({type:'SET_LOADING',payload:false});}},[]);// Save cart to localStorage whenever it changes\nuseEffect(()=>{if(!state.loading){localStorage.setItem('cart',JSON.stringify({items:state.items,coupon:state.coupon,discount:state.discount,shipping:state.shipping}));}},[state.items,state.coupon,state.discount,state.shipping,state.loading]);// Add item to cart\nconst addToCart=function(product){let variant=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let quantity=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;// Check stock availability\nconst availableStock=(variant===null||variant===void 0?void 0:variant.stock)||product.stock;if(availableStock<quantity){toast.error(\"Only \".concat(availableStock,\" items available in stock\"));return false;}// Check if item already exists in cart\nconst existingItem=state.items.find(item=>item.product._id===product._id&&JSON.stringify(item.variant)===JSON.stringify(variant));if(existingItem){const newQuantity=existingItem.quantity+quantity;if(newQuantity>availableStock){toast.error(\"Cannot add more items. Maximum available: \".concat(availableStock));return false;}}dispatch({type:'ADD_ITEM',payload:{product,variant,quantity}});toast.success(\"\".concat(product.name,\" added to cart\"));return true;};// Update item quantity\nconst updateQuantity=(itemId,quantity)=>{var _item$variant;const item=state.items.find(item=>item.id===itemId);if(!item)return false;const availableStock=((_item$variant=item.variant)===null||_item$variant===void 0?void 0:_item$variant.stock)||item.product.stock;if(quantity>availableStock){toast.error(\"Only \".concat(availableStock,\" items available in stock\"));return false;}dispatch({type:'UPDATE_QUANTITY',payload:{itemId,quantity}});if(quantity===0){toast.success('Item removed from cart');}return true;};// Remove item from cart\nconst removeFromCart=itemId=>{dispatch({type:'REMOVE_ITEM',payload:{itemId}});toast.success('Item removed from cart');};// Clear entire cart\nconst clearCart=()=>{dispatch({type:'CLEAR_CART'});toast.success('Cart cleared');};// Apply coupon\nconst applyCoupon=async couponCode=>{try{// This would typically make an API call to validate the coupon\n// For now, we'll simulate some basic coupon logic\nconst mockCoupons={'SAVE10':{type:'percentage',value:10,minAmount:50},'FLAT20':{type:'fixed',value:20,minAmount:100},'WELCOME15':{type:'percentage',value:15,minAmount:0}};const coupon=mockCoupons[couponCode.toUpperCase()];if(!coupon){toast.error('Invalid coupon code');return false;}const subtotal=getSubtotal();if(subtotal<coupon.minAmount){toast.error(\"Minimum order amount of $\".concat(coupon.minAmount,\" required for this coupon\"));return false;}let discount=0;if(coupon.type==='percentage'){discount=subtotal*coupon.value/100;}else{discount=coupon.value;}dispatch({type:'APPLY_COUPON',payload:{coupon:_objectSpread({code:couponCode},coupon),discount}});toast.success(\"Coupon applied! You saved $\".concat(discount.toFixed(2)));return true;}catch(error){toast.error('Failed to apply coupon');return false;}};// Remove coupon\nconst removeCoupon=()=>{dispatch({type:'REMOVE_COUPON'});toast.success('Coupon removed');};// Set shipping method\nconst setShipping=shippingMethod=>{const shippingOptions={standard:{cost:0,estimatedDays:5},express:{cost:9.99,estimatedDays:2},overnight:{cost:19.99,estimatedDays:1}};const shipping=_objectSpread({method:shippingMethod},shippingOptions[shippingMethod]);dispatch({type:'SET_SHIPPING',payload:shipping});};// Calculate subtotal\nconst getSubtotal=()=>{return state.items.reduce((total,item)=>{return total+item.price*item.quantity;},0);};// Calculate tax (8.5% for example)\nconst getTax=()=>{const subtotal=getSubtotal();const taxRate=0.085;// 8.5%\nreturn subtotal*taxRate;};// Calculate total\nconst getTotal=()=>{const subtotal=getSubtotal();const tax=getTax();const shipping=state.shipping.cost;const discount=state.discount;return Math.max(0,subtotal+tax+shipping-discount);};// Get total items count\nconst getItemsCount=()=>{return state.items.reduce((total,item)=>total+item.quantity,0);};// Get unique products count\nconst getUniqueItemsCount=()=>{return state.items.length;};// Check if product is in cart\nconst isInCart=function(productId){let variant=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return state.items.some(item=>item.product._id===productId&&JSON.stringify(item.variant)===JSON.stringify(variant));};// Get item from cart\nconst getCartItem=function(productId){let variant=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return state.items.find(item=>item.product._id===productId&&JSON.stringify(item.variant)===JSON.stringify(variant));};// Validate cart items (check stock, prices, etc.)\nconst validateCart=async()=>{// This would typically make API calls to validate each item\n// For now, we'll do basic validation\nconst invalidItems=[];for(const item of state.items){var _item$variant2;const availableStock=((_item$variant2=item.variant)===null||_item$variant2===void 0?void 0:_item$variant2.stock)||item.product.stock;if(item.quantity>availableStock){invalidItems.push(_objectSpread(_objectSpread({},item),{},{issue:'insufficient_stock',availableStock}));}}return{isValid:invalidItems.length===0,invalidItems};};// Sync cart with server (for authenticated users)\nconst syncCart=async()=>{if(!isAuthenticated)return;try{// This would sync the cart with the server\n// Implementation depends on your backend API\nconsole.log('Syncing cart with server...');}catch(error){console.error('Failed to sync cart:',error);}};// Get cart summary\nconst getCartSummary=()=>{return{itemsCount:getItemsCount(),uniqueItemsCount:getUniqueItemsCount(),subtotal:getSubtotal(),tax:getTax(),shipping:state.shipping.cost,discount:state.discount,total:getTotal(),coupon:state.coupon};};const value=_objectSpread(_objectSpread({},state),{},{// Actions\naddToCart,updateQuantity,removeFromCart,clearCart,applyCoupon,removeCoupon,setShipping,validateCart,syncCart,// Getters\ngetSubtotal,getTax,getTotal,getItemsCount,getUniqueItemsCount,isInCart,getCartItem,getCartSummary});return/*#__PURE__*/_jsx(CartContext.Provider,{value:value,children:children});};// Custom hook to use cart context\nexport const useCart=()=>{const context=useContext(CartContext);if(!context){throw new Error('useCart must be used within a CartProvider');}return context;};export default CartContext;","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","toast","useAuth","jsx","_jsx","CartContext","cartReducer","state","action","type","_objectSpread","items","payload","loading","product","variant","quantity","existingItemIndex","findIndex","item","_id","JSON","stringify","newItems","map","index","newItem","id","concat","price","finalPrice","basePrice","addedAt","Date","toISOString","itemId","filter","coupon","discount","shipping","initialState","method","cost","estimatedDays","CartProvider","_ref","children","dispatch","isAuthenticated","user","savedCart","localStorage","getItem","cartData","parse","error","console","setItem","addToCart","arguments","length","undefined","availableStock","stock","existingItem","find","newQuantity","success","name","updateQuantity","_item$variant","removeFromCart","clearCart","applyCoupon","couponCode","mockCoupons","value","minAmount","toUpperCase","subtotal","getSubtotal","code","toFixed","removeCoupon","setShipping","shippingMethod","shippingOptions","standard","express","overnight","reduce","total","getTax","taxRate","getTotal","tax","Math","max","getItemsCount","getUniqueItemsCount","isInCart","productId","some","getCartItem","validateCart","invalidItems","_item$variant2","push","issue","isValid","syncCart","log","getCartSummary","itemsCount","uniqueItemsCount","Provider","useCart","context","Error"],"sources":["C:/Users/gmudamali/Downloads/EcommerceApplication/client/src/context/CartContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport { toast } from 'react-hot-toast';\nimport { useAuth } from './AuthContext';\n\nconst CartContext = createContext();\n\n// Cart reducer\nconst cartReducer = (state, action) => {\n  switch (action.type) {\n    case 'LOAD_CART':\n      return {\n        ...state,\n        items: action.payload.items || [],\n        loading: false\n      };\n\n    case 'ADD_ITEM': {\n      const { product, variant, quantity = 1 } = action.payload;\n      const existingItemIndex = state.items.findIndex(item => \n        item.product._id === product._id && \n        JSON.stringify(item.variant) === JSON.stringify(variant)\n      );\n\n      let newItems;\n      if (existingItemIndex >= 0) {\n        // Update existing item quantity\n        newItems = state.items.map((item, index) => \n          index === existingItemIndex \n            ? { ...item, quantity: item.quantity + quantity }\n            : item\n        );\n      } else {\n        // Add new item\n        const newItem = {\n          id: `${product._id}-${JSON.stringify(variant)}`,\n          product,\n          variant,\n          quantity,\n          price: variant?.price || product.finalPrice || product.basePrice,\n          addedAt: new Date().toISOString()\n        };\n        newItems = [...state.items, newItem];\n      }\n\n      return {\n        ...state,\n        items: newItems\n      };\n    }\n\n    case 'UPDATE_QUANTITY': {\n      const { itemId, quantity } = action.payload;\n      \n      if (quantity <= 0) {\n        return {\n          ...state,\n          items: state.items.filter(item => item.id !== itemId)\n        };\n      }\n\n      return {\n        ...state,\n        items: state.items.map(item =>\n          item.id === itemId ? { ...item, quantity } : item\n        )\n      };\n    }\n\n    case 'REMOVE_ITEM':\n      return {\n        ...state,\n        items: state.items.filter(item => item.id !== action.payload.itemId)\n      };\n\n    case 'CLEAR_CART':\n      return {\n        ...state,\n        items: []\n      };\n\n    case 'SET_LOADING':\n      return {\n        ...state,\n        loading: action.payload\n      };\n\n    case 'APPLY_COUPON':\n      return {\n        ...state,\n        coupon: action.payload.coupon,\n        discount: action.payload.discount\n      };\n\n    case 'REMOVE_COUPON':\n      return {\n        ...state,\n        coupon: null,\n        discount: 0\n      };\n\n    case 'SET_SHIPPING':\n      return {\n        ...state,\n        shipping: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\n// Initial state\nconst initialState = {\n  items: [],\n  loading: true,\n  coupon: null,\n  discount: 0,\n  shipping: {\n    method: 'standard',\n    cost: 0,\n    estimatedDays: 5\n  }\n};\n\nexport const CartProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(cartReducer, initialState);\n  const { isAuthenticated, user } = useAuth();\n\n  // Load cart from localStorage on mount\n  useEffect(() => {\n    const savedCart = localStorage.getItem('cart');\n    if (savedCart) {\n      try {\n        const cartData = JSON.parse(savedCart);\n        dispatch({\n          type: 'LOAD_CART',\n          payload: cartData\n        });\n      } catch (error) {\n        console.error('Error loading cart from localStorage:', error);\n        dispatch({ type: 'SET_LOADING', payload: false });\n      }\n    } else {\n      dispatch({ type: 'SET_LOADING', payload: false });\n    }\n  }, []);\n\n  // Save cart to localStorage whenever it changes\n  useEffect(() => {\n    if (!state.loading) {\n      localStorage.setItem('cart', JSON.stringify({\n        items: state.items,\n        coupon: state.coupon,\n        discount: state.discount,\n        shipping: state.shipping\n      }));\n    }\n  }, [state.items, state.coupon, state.discount, state.shipping, state.loading]);\n\n  // Add item to cart\n  const addToCart = (product, variant = null, quantity = 1) => {\n    // Check stock availability\n    const availableStock = variant?.stock || product.stock;\n    if (availableStock < quantity) {\n      toast.error(`Only ${availableStock} items available in stock`);\n      return false;\n    }\n\n    // Check if item already exists in cart\n    const existingItem = state.items.find(item => \n      item.product._id === product._id && \n      JSON.stringify(item.variant) === JSON.stringify(variant)\n    );\n\n    if (existingItem) {\n      const newQuantity = existingItem.quantity + quantity;\n      if (newQuantity > availableStock) {\n        toast.error(`Cannot add more items. Maximum available: ${availableStock}`);\n        return false;\n      }\n    }\n\n    dispatch({\n      type: 'ADD_ITEM',\n      payload: { product, variant, quantity }\n    });\n\n    toast.success(`${product.name} added to cart`);\n    return true;\n  };\n\n  // Update item quantity\n  const updateQuantity = (itemId, quantity) => {\n    const item = state.items.find(item => item.id === itemId);\n    if (!item) return false;\n\n    const availableStock = item.variant?.stock || item.product.stock;\n    if (quantity > availableStock) {\n      toast.error(`Only ${availableStock} items available in stock`);\n      return false;\n    }\n\n    dispatch({\n      type: 'UPDATE_QUANTITY',\n      payload: { itemId, quantity }\n    });\n\n    if (quantity === 0) {\n      toast.success('Item removed from cart');\n    }\n\n    return true;\n  };\n\n  // Remove item from cart\n  const removeFromCart = (itemId) => {\n    dispatch({\n      type: 'REMOVE_ITEM',\n      payload: { itemId }\n    });\n    toast.success('Item removed from cart');\n  };\n\n  // Clear entire cart\n  const clearCart = () => {\n    dispatch({ type: 'CLEAR_CART' });\n    toast.success('Cart cleared');\n  };\n\n  // Apply coupon\n  const applyCoupon = async (couponCode) => {\n    try {\n      // This would typically make an API call to validate the coupon\n      // For now, we'll simulate some basic coupon logic\n      const mockCoupons = {\n        'SAVE10': { type: 'percentage', value: 10, minAmount: 50 },\n        'FLAT20': { type: 'fixed', value: 20, minAmount: 100 },\n        'WELCOME15': { type: 'percentage', value: 15, minAmount: 0 }\n      };\n\n      const coupon = mockCoupons[couponCode.toUpperCase()];\n      if (!coupon) {\n        toast.error('Invalid coupon code');\n        return false;\n      }\n\n      const subtotal = getSubtotal();\n      if (subtotal < coupon.minAmount) {\n        toast.error(`Minimum order amount of $${coupon.minAmount} required for this coupon`);\n        return false;\n      }\n\n      let discount = 0;\n      if (coupon.type === 'percentage') {\n        discount = (subtotal * coupon.value) / 100;\n      } else {\n        discount = coupon.value;\n      }\n\n      dispatch({\n        type: 'APPLY_COUPON',\n        payload: { coupon: { code: couponCode, ...coupon }, discount }\n      });\n\n      toast.success(`Coupon applied! You saved $${discount.toFixed(2)}`);\n      return true;\n    } catch (error) {\n      toast.error('Failed to apply coupon');\n      return false;\n    }\n  };\n\n  // Remove coupon\n  const removeCoupon = () => {\n    dispatch({ type: 'REMOVE_COUPON' });\n    toast.success('Coupon removed');\n  };\n\n  // Set shipping method\n  const setShipping = (shippingMethod) => {\n    const shippingOptions = {\n      standard: { cost: 0, estimatedDays: 5 },\n      express: { cost: 9.99, estimatedDays: 2 },\n      overnight: { cost: 19.99, estimatedDays: 1 }\n    };\n\n    const shipping = {\n      method: shippingMethod,\n      ...shippingOptions[shippingMethod]\n    };\n\n    dispatch({\n      type: 'SET_SHIPPING',\n      payload: shipping\n    });\n  };\n\n  // Calculate subtotal\n  const getSubtotal = () => {\n    return state.items.reduce((total, item) => {\n      return total + (item.price * item.quantity);\n    }, 0);\n  };\n\n  // Calculate tax (8.5% for example)\n  const getTax = () => {\n    const subtotal = getSubtotal();\n    const taxRate = 0.085; // 8.5%\n    return subtotal * taxRate;\n  };\n\n  // Calculate total\n  const getTotal = () => {\n    const subtotal = getSubtotal();\n    const tax = getTax();\n    const shipping = state.shipping.cost;\n    const discount = state.discount;\n    \n    return Math.max(0, subtotal + tax + shipping - discount);\n  };\n\n  // Get total items count\n  const getItemsCount = () => {\n    return state.items.reduce((total, item) => total + item.quantity, 0);\n  };\n\n  // Get unique products count\n  const getUniqueItemsCount = () => {\n    return state.items.length;\n  };\n\n  // Check if product is in cart\n  const isInCart = (productId, variant = null) => {\n    return state.items.some(item => \n      item.product._id === productId && \n      JSON.stringify(item.variant) === JSON.stringify(variant)\n    );\n  };\n\n  // Get item from cart\n  const getCartItem = (productId, variant = null) => {\n    return state.items.find(item => \n      item.product._id === productId && \n      JSON.stringify(item.variant) === JSON.stringify(variant)\n    );\n  };\n\n  // Validate cart items (check stock, prices, etc.)\n  const validateCart = async () => {\n    // This would typically make API calls to validate each item\n    // For now, we'll do basic validation\n    const invalidItems = [];\n    \n    for (const item of state.items) {\n      const availableStock = item.variant?.stock || item.product.stock;\n      if (item.quantity > availableStock) {\n        invalidItems.push({\n          ...item,\n          issue: 'insufficient_stock',\n          availableStock\n        });\n      }\n    }\n\n    return {\n      isValid: invalidItems.length === 0,\n      invalidItems\n    };\n  };\n\n  // Sync cart with server (for authenticated users)\n  const syncCart = async () => {\n    if (!isAuthenticated) return;\n\n    try {\n      // This would sync the cart with the server\n      // Implementation depends on your backend API\n      console.log('Syncing cart with server...');\n    } catch (error) {\n      console.error('Failed to sync cart:', error);\n    }\n  };\n\n  // Get cart summary\n  const getCartSummary = () => {\n    return {\n      itemsCount: getItemsCount(),\n      uniqueItemsCount: getUniqueItemsCount(),\n      subtotal: getSubtotal(),\n      tax: getTax(),\n      shipping: state.shipping.cost,\n      discount: state.discount,\n      total: getTotal(),\n      coupon: state.coupon\n    };\n  };\n\n  const value = {\n    // State\n    ...state,\n    \n    // Actions\n    addToCart,\n    updateQuantity,\n    removeFromCart,\n    clearCart,\n    applyCoupon,\n    removeCoupon,\n    setShipping,\n    validateCart,\n    syncCart,\n    \n    // Getters\n    getSubtotal,\n    getTax,\n    getTotal,\n    getItemsCount,\n    getUniqueItemsCount,\n    isInCart,\n    getCartItem,\n    getCartSummary\n  };\n\n  return (\n    <CartContext.Provider value={value}>\n      {children}\n    </CartContext.Provider>\n  );\n};\n\n// Custom hook to use cart context\nexport const useCart = () => {\n  const context = useContext(CartContext);\n  if (!context) {\n    throw new Error('useCart must be used within a CartProvider');\n  }\n  return context;\n};\n\nexport default CartContext;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}