{"ast":null,"code":"import _objectSpread from\"C:/Users/gmudamali/Downloads/EcommerceApplication/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useContext,useReducer,useEffect}from'react';import{useQuery,useQueryClient}from'react-query';import Cookies from'js-cookie';import{authAPI}from'../services/api';import{jsx as _jsx}from\"react/jsx-runtime\";const AuthContext=/*#__PURE__*/createContext();// Auth reducer\nconst authReducer=(state,action)=>{switch(action.type){case'LOGIN_START':return _objectSpread(_objectSpread({},state),{},{loading:true,error:null});case'LOGIN_SUCCESS':return _objectSpread(_objectSpread({},state),{},{loading:false,isAuthenticated:true,user:action.payload.user,token:action.payload.token,error:null});case'LOGIN_FAILURE':return _objectSpread(_objectSpread({},state),{},{loading:false,isAuthenticated:false,user:null,token:null,error:action.payload});case'LOGOUT':return _objectSpread(_objectSpread({},state),{},{loading:false,isAuthenticated:false,user:null,token:null,error:null});case'UPDATE_USER':return _objectSpread(_objectSpread({},state),{},{user:_objectSpread(_objectSpread({},state.user),action.payload)});case'SET_LOADING':return _objectSpread(_objectSpread({},state),{},{loading:action.payload});case'CLEAR_ERROR':return _objectSpread(_objectSpread({},state),{},{error:null});default:return state;}};// Initial state\nconst initialState={isAuthenticated:false,user:null,token:null,loading:true,error:null};export const AuthProvider=_ref=>{let{children}=_ref;const[state,dispatch]=useReducer(authReducer,initialState);const queryClient=useQueryClient();// Check for existing token on mount\nuseEffect(()=>{const token=Cookies.get('token');if(token){// Verify token and get user data\nauthAPI.getProfile().then(response=>{dispatch({type:'LOGIN_SUCCESS',payload:{user:response.data.user,token}});}).catch(()=>{// Token is invalid, remove it\nCookies.remove('token');Cookies.remove('refreshToken');dispatch({type:'LOGOUT'});});}else{dispatch({type:'SET_LOADING',payload:false});}},[]);// Login function\nconst login=async credentials=>{try{dispatch({type:'LOGIN_START'});const response=await authAPI.login(credentials);const{user,token,refreshToken}=response.data;// Store tokens in cookies\nCookies.set('token',token,{expires:credentials.rememberMe?30:7,secure:process.env.NODE_ENV==='production',sameSite:'strict'});if(refreshToken){Cookies.set('refreshToken',refreshToken,{expires:30,secure:process.env.NODE_ENV==='production',sameSite:'strict'});}dispatch({type:'LOGIN_SUCCESS',payload:{user,token}});return{success:true,user};}catch(error){var _error$response,_error$response$data;const errorMessage=((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Login failed';dispatch({type:'LOGIN_FAILURE',payload:errorMessage});return{success:false,error:errorMessage};}};// Register function\nconst register=async userData=>{try{dispatch({type:'LOGIN_START'});const response=await authAPI.register(userData);const{user,token,refreshToken}=response.data;// Store tokens in cookies\nCookies.set('token',token,{expires:7,secure:process.env.NODE_ENV==='production',sameSite:'strict'});if(refreshToken){Cookies.set('refreshToken',refreshToken,{expires:30,secure:process.env.NODE_ENV==='production',sameSite:'strict'});}dispatch({type:'LOGIN_SUCCESS',payload:{user,token}});return{success:true,user};}catch(error){var _error$response2,_error$response2$data;const errorMessage=((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||'Registration failed';dispatch({type:'LOGIN_FAILURE',payload:errorMessage});return{success:false,error:errorMessage};}};// Logout function\nconst logout=async()=>{try{// Call logout API if needed\nawait authAPI.logout();}catch(error){console.error('Logout API error:',error);}finally{// Clear tokens and state regardless of API call result\nCookies.remove('token');Cookies.remove('refreshToken');// Clear all cached data\nqueryClient.clear();dispatch({type:'LOGOUT'});}};// Update user profile\nconst updateProfile=async userData=>{try{const response=await authAPI.updateProfile(userData);const updatedUser=response.data.user;dispatch({type:'UPDATE_USER',payload:updatedUser});return{success:true,user:updatedUser};}catch(error){var _error$response3,_error$response3$data;const errorMessage=((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||'Profile update failed';return{success:false,error:errorMessage};}};// Change password\nconst changePassword=async passwordData=>{try{await authAPI.changePassword(passwordData);return{success:true};}catch(error){var _error$response4,_error$response4$data;const errorMessage=((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.message)||'Password change failed';return{success:false,error:errorMessage};}};// Forgot password\nconst forgotPassword=async email=>{try{await authAPI.forgotPassword({email});return{success:true};}catch(error){var _error$response5,_error$response5$data;const errorMessage=((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.message)||'Password reset request failed';return{success:false,error:errorMessage};}};// Reset password\nconst resetPassword=async(token,password)=>{try{await authAPI.resetPassword(token,{password});return{success:true};}catch(error){var _error$response6,_error$response6$data;const errorMessage=((_error$response6=error.response)===null||_error$response6===void 0?void 0:(_error$response6$data=_error$response6.data)===null||_error$response6$data===void 0?void 0:_error$response6$data.message)||'Password reset failed';return{success:false,error:errorMessage};}};// Verify email\nconst verifyEmail=async token=>{try{await authAPI.verifyEmail(token);// Update user verification status\ndispatch({type:'UPDATE_USER',payload:{isVerified:true}});return{success:true};}catch(error){var _error$response7,_error$response7$data;const errorMessage=((_error$response7=error.response)===null||_error$response7===void 0?void 0:(_error$response7$data=_error$response7.data)===null||_error$response7$data===void 0?void 0:_error$response7$data.message)||'Email verification failed';return{success:false,error:errorMessage};}};// Resend verification email\nconst resendVerification=async()=>{try{await authAPI.resendVerification();return{success:true};}catch(error){var _error$response8,_error$response8$data;const errorMessage=((_error$response8=error.response)===null||_error$response8===void 0?void 0:(_error$response8$data=_error$response8.data)===null||_error$response8$data===void 0?void 0:_error$response8$data.message)||'Failed to resend verification email';return{success:false,error:errorMessage};}};// Clear error\nconst clearError=()=>{dispatch({type:'CLEAR_ERROR'});};// Check if user has specific role\nconst hasRole=role=>{var _state$user;return((_state$user=state.user)===null||_state$user===void 0?void 0:_state$user.role)===role;};// Check if user has any of the specified roles\nconst hasAnyRole=roles=>{var _state$user2;return roles.includes((_state$user2=state.user)===null||_state$user2===void 0?void 0:_state$user2.role);};// Check if user is admin\nconst isAdmin=()=>{return hasRole('admin');};// Check if user is seller\nconst isSeller=()=>{return hasRole('seller');};// Get user's full name\nconst getFullName=()=>{if(!state.user)return'';return\"\".concat(state.user.firstName,\" \").concat(state.user.lastName);};// Get user's initials\nconst getInitials=()=>{var _state$user$firstName,_state$user$lastName;if(!state.user)return'';return\"\".concat(((_state$user$firstName=state.user.firstName)===null||_state$user$firstName===void 0?void 0:_state$user$firstName[0])||'').concat(((_state$user$lastName=state.user.lastName)===null||_state$user$lastName===void 0?void 0:_state$user$lastName[0])||'').toUpperCase();};const value=_objectSpread(_objectSpread({},state),{},{// Actions\nlogin,register,logout,updateProfile,changePassword,forgotPassword,resetPassword,verifyEmail,resendVerification,clearError,// Utility functions\nhasRole,hasAnyRole,isAdmin,isSeller,getFullName,getInitials});return/*#__PURE__*/_jsx(AuthContext.Provider,{value:value,children:children});};// Custom hook to use auth context\nexport const useAuth=()=>{const context=useContext(AuthContext);if(!context){throw new Error('useAuth must be used within an AuthProvider');}return context;};export default AuthContext;","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","useQuery","useQueryClient","Cookies","authAPI","jsx","_jsx","AuthContext","authReducer","state","action","type","_objectSpread","loading","error","isAuthenticated","user","payload","token","initialState","AuthProvider","_ref","children","dispatch","queryClient","get","getProfile","then","response","data","catch","remove","login","credentials","refreshToken","set","expires","rememberMe","secure","process","env","NODE_ENV","sameSite","success","_error$response","_error$response$data","errorMessage","message","register","userData","_error$response2","_error$response2$data","logout","console","clear","updateProfile","updatedUser","_error$response3","_error$response3$data","changePassword","passwordData","_error$response4","_error$response4$data","forgotPassword","email","_error$response5","_error$response5$data","resetPassword","password","_error$response6","_error$response6$data","verifyEmail","isVerified","_error$response7","_error$response7$data","resendVerification","_error$response8","_error$response8$data","clearError","hasRole","role","_state$user","hasAnyRole","roles","_state$user2","includes","isAdmin","isSeller","getFullName","concat","firstName","lastName","getInitials","_state$user$firstName","_state$user$lastName","toUpperCase","value","Provider","useAuth","context","Error"],"sources":["C:/Users/gmudamali/Downloads/EcommerceApplication/client/src/context/AuthContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport { useQuery, useQueryClient } from 'react-query';\nimport Cookies from 'js-cookie';\nimport { authAPI } from '../services/api';\n\nconst AuthContext = createContext();\n\n// Auth reducer\nconst authReducer = (state, action) => {\n  switch (action.type) {\n    case 'LOGIN_START':\n      return {\n        ...state,\n        loading: true,\n        error: null\n      };\n    \n    case 'LOGIN_SUCCESS':\n      return {\n        ...state,\n        loading: false,\n        isAuthenticated: true,\n        user: action.payload.user,\n        token: action.payload.token,\n        error: null\n      };\n    \n    case 'LOGIN_FAILURE':\n      return {\n        ...state,\n        loading: false,\n        isAuthenticated: false,\n        user: null,\n        token: null,\n        error: action.payload\n      };\n    \n    case 'LOGOUT':\n      return {\n        ...state,\n        loading: false,\n        isAuthenticated: false,\n        user: null,\n        token: null,\n        error: null\n      };\n    \n    case 'UPDATE_USER':\n      return {\n        ...state,\n        user: { ...state.user, ...action.payload }\n      };\n    \n    case 'SET_LOADING':\n      return {\n        ...state,\n        loading: action.payload\n      };\n    \n    case 'CLEAR_ERROR':\n      return {\n        ...state,\n        error: null\n      };\n    \n    default:\n      return state;\n  }\n};\n\n// Initial state\nconst initialState = {\n  isAuthenticated: false,\n  user: null,\n  token: null,\n  loading: true,\n  error: null\n};\n\nexport const AuthProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, initialState);\n  const queryClient = useQueryClient();\n\n  // Check for existing token on mount\n  useEffect(() => {\n    const token = Cookies.get('token');\n    if (token) {\n      // Verify token and get user data\n      authAPI.getProfile()\n        .then(response => {\n          dispatch({\n            type: 'LOGIN_SUCCESS',\n            payload: {\n              user: response.data.user,\n              token\n            }\n          });\n        })\n        .catch(() => {\n          // Token is invalid, remove it\n          Cookies.remove('token');\n          Cookies.remove('refreshToken');\n          dispatch({ type: 'LOGOUT' });\n        });\n    } else {\n      dispatch({ type: 'SET_LOADING', payload: false });\n    }\n  }, []);\n\n  // Login function\n  const login = async (credentials) => {\n    try {\n      dispatch({ type: 'LOGIN_START' });\n      \n      const response = await authAPI.login(credentials);\n      const { user, token, refreshToken } = response.data;\n\n      // Store tokens in cookies\n      Cookies.set('token', token, { \n        expires: credentials.rememberMe ? 30 : 7,\n        secure: process.env.NODE_ENV === 'production',\n        sameSite: 'strict'\n      });\n      \n      if (refreshToken) {\n        Cookies.set('refreshToken', refreshToken, { \n          expires: 30,\n          secure: process.env.NODE_ENV === 'production',\n          sameSite: 'strict'\n        });\n      }\n\n      dispatch({\n        type: 'LOGIN_SUCCESS',\n        payload: { user, token }\n      });\n\n      return { success: true, user };\n    } catch (error) {\n      const errorMessage = error.response?.data?.message || 'Login failed';\n      dispatch({\n        type: 'LOGIN_FAILURE',\n        payload: errorMessage\n      });\n      return { success: false, error: errorMessage };\n    }\n  };\n\n  // Register function\n  const register = async (userData) => {\n    try {\n      dispatch({ type: 'LOGIN_START' });\n      \n      const response = await authAPI.register(userData);\n      const { user, token, refreshToken } = response.data;\n\n      // Store tokens in cookies\n      Cookies.set('token', token, { \n        expires: 7,\n        secure: process.env.NODE_ENV === 'production',\n        sameSite: 'strict'\n      });\n      \n      if (refreshToken) {\n        Cookies.set('refreshToken', refreshToken, { \n          expires: 30,\n          secure: process.env.NODE_ENV === 'production',\n          sameSite: 'strict'\n        });\n      }\n\n      dispatch({\n        type: 'LOGIN_SUCCESS',\n        payload: { user, token }\n      });\n\n      return { success: true, user };\n    } catch (error) {\n      const errorMessage = error.response?.data?.message || 'Registration failed';\n      dispatch({\n        type: 'LOGIN_FAILURE',\n        payload: errorMessage\n      });\n      return { success: false, error: errorMessage };\n    }\n  };\n\n  // Logout function\n  const logout = async () => {\n    try {\n      // Call logout API if needed\n      await authAPI.logout();\n    } catch (error) {\n      console.error('Logout API error:', error);\n    } finally {\n      // Clear tokens and state regardless of API call result\n      Cookies.remove('token');\n      Cookies.remove('refreshToken');\n      \n      // Clear all cached data\n      queryClient.clear();\n      \n      dispatch({ type: 'LOGOUT' });\n    }\n  };\n\n  // Update user profile\n  const updateProfile = async (userData) => {\n    try {\n      const response = await authAPI.updateProfile(userData);\n      const updatedUser = response.data.user;\n      \n      dispatch({\n        type: 'UPDATE_USER',\n        payload: updatedUser\n      });\n\n      return { success: true, user: updatedUser };\n    } catch (error) {\n      const errorMessage = error.response?.data?.message || 'Profile update failed';\n      return { success: false, error: errorMessage };\n    }\n  };\n\n  // Change password\n  const changePassword = async (passwordData) => {\n    try {\n      await authAPI.changePassword(passwordData);\n      return { success: true };\n    } catch (error) {\n      const errorMessage = error.response?.data?.message || 'Password change failed';\n      return { success: false, error: errorMessage };\n    }\n  };\n\n  // Forgot password\n  const forgotPassword = async (email) => {\n    try {\n      await authAPI.forgotPassword({ email });\n      return { success: true };\n    } catch (error) {\n      const errorMessage = error.response?.data?.message || 'Password reset request failed';\n      return { success: false, error: errorMessage };\n    }\n  };\n\n  // Reset password\n  const resetPassword = async (token, password) => {\n    try {\n      await authAPI.resetPassword(token, { password });\n      return { success: true };\n    } catch (error) {\n      const errorMessage = error.response?.data?.message || 'Password reset failed';\n      return { success: false, error: errorMessage };\n    }\n  };\n\n  // Verify email\n  const verifyEmail = async (token) => {\n    try {\n      await authAPI.verifyEmail(token);\n      \n      // Update user verification status\n      dispatch({\n        type: 'UPDATE_USER',\n        payload: { isVerified: true }\n      });\n\n      return { success: true };\n    } catch (error) {\n      const errorMessage = error.response?.data?.message || 'Email verification failed';\n      return { success: false, error: errorMessage };\n    }\n  };\n\n  // Resend verification email\n  const resendVerification = async () => {\n    try {\n      await authAPI.resendVerification();\n      return { success: true };\n    } catch (error) {\n      const errorMessage = error.response?.data?.message || 'Failed to resend verification email';\n      return { success: false, error: errorMessage };\n    }\n  };\n\n  // Clear error\n  const clearError = () => {\n    dispatch({ type: 'CLEAR_ERROR' });\n  };\n\n  // Check if user has specific role\n  const hasRole = (role) => {\n    return state.user?.role === role;\n  };\n\n  // Check if user has any of the specified roles\n  const hasAnyRole = (roles) => {\n    return roles.includes(state.user?.role);\n  };\n\n  // Check if user is admin\n  const isAdmin = () => {\n    return hasRole('admin');\n  };\n\n  // Check if user is seller\n  const isSeller = () => {\n    return hasRole('seller');\n  };\n\n  // Get user's full name\n  const getFullName = () => {\n    if (!state.user) return '';\n    return `${state.user.firstName} ${state.user.lastName}`;\n  };\n\n  // Get user's initials\n  const getInitials = () => {\n    if (!state.user) return '';\n    return `${state.user.firstName?.[0] || ''}${state.user.lastName?.[0] || ''}`.toUpperCase();\n  };\n\n  const value = {\n    // State\n    ...state,\n    \n    // Actions\n    login,\n    register,\n    logout,\n    updateProfile,\n    changePassword,\n    forgotPassword,\n    resetPassword,\n    verifyEmail,\n    resendVerification,\n    clearError,\n    \n    // Utility functions\n    hasRole,\n    hasAnyRole,\n    isAdmin,\n    isSeller,\n    getFullName,\n    getInitials\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\n// Custom hook to use auth context\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n\nexport default AuthContext;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}