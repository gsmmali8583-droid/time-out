{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gmudamali\\\\Downloads\\\\EcommerceApplication\\\\client\\\\src\\\\context\\\\AuthContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport { useQuery, useQueryClient } from 'react-query';\nimport Cookies from 'js-cookie';\nimport { authAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext();\n\n// Auth reducer\nconst authReducer = (state, action) => {\n  switch (action.type) {\n    case 'LOGIN_START':\n      return {\n        ...state,\n        loading: true,\n        error: null\n      };\n    case 'LOGIN_SUCCESS':\n      return {\n        ...state,\n        loading: false,\n        isAuthenticated: true,\n        user: action.payload.user,\n        token: action.payload.token,\n        error: null\n      };\n    case 'LOGIN_FAILURE':\n      return {\n        ...state,\n        loading: false,\n        isAuthenticated: false,\n        user: null,\n        token: null,\n        error: action.payload\n      };\n    case 'LOGOUT':\n      return {\n        ...state,\n        loading: false,\n        isAuthenticated: false,\n        user: null,\n        token: null,\n        error: null\n      };\n    case 'UPDATE_USER':\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          ...action.payload\n        }\n      };\n    case 'SET_LOADING':\n      return {\n        ...state,\n        loading: action.payload\n      };\n    case 'CLEAR_ERROR':\n      return {\n        ...state,\n        error: null\n      };\n    default:\n      return state;\n  }\n};\n\n// Initial state\nconst initialState = {\n  isAuthenticated: false,\n  user: null,\n  token: null,\n  loading: true,\n  error: null\n};\nexport const AuthProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(authReducer, initialState);\n  const queryClient = useQueryClient();\n\n  // Check for existing token on mount\n  useEffect(() => {\n    const token = Cookies.get('token');\n    if (token) {\n      // Verify token and get user data\n      authAPI.getProfile().then(response => {\n        dispatch({\n          type: 'LOGIN_SUCCESS',\n          payload: {\n            user: response.data.user,\n            token\n          }\n        });\n      }).catch(() => {\n        // Token is invalid, remove it\n        Cookies.remove('token');\n        Cookies.remove('refreshToken');\n        dispatch({\n          type: 'LOGOUT'\n        });\n      });\n    } else {\n      dispatch({\n        type: 'SET_LOADING',\n        payload: false\n      });\n    }\n  }, []);\n\n  // Login function\n  const login = async credentials => {\n    try {\n      dispatch({\n        type: 'LOGIN_START'\n      });\n      const response = await authAPI.login(credentials);\n      const {\n        user,\n        token,\n        refreshToken\n      } = response.data;\n\n      // Store tokens in cookies\n      Cookies.set('token', token, {\n        expires: credentials.rememberMe ? 30 : 7,\n        secure: process.env.NODE_ENV === 'production',\n        sameSite: 'strict'\n      });\n      if (refreshToken) {\n        Cookies.set('refreshToken', refreshToken, {\n          expires: 30,\n          secure: process.env.NODE_ENV === 'production',\n          sameSite: 'strict'\n        });\n      }\n      dispatch({\n        type: 'LOGIN_SUCCESS',\n        payload: {\n          user,\n          token\n        }\n      });\n      return {\n        success: true,\n        user\n      };\n    } catch (error) {\n      var _error$response, _error$response$data;\n      const errorMessage = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Login failed';\n      dispatch({\n        type: 'LOGIN_FAILURE',\n        payload: errorMessage\n      });\n      return {\n        success: false,\n        error: errorMessage\n      };\n    }\n  };\n\n  // Register function\n  const register = async userData => {\n    try {\n      dispatch({\n        type: 'LOGIN_START'\n      });\n      const response = await authAPI.register(userData);\n      const {\n        user,\n        token,\n        refreshToken\n      } = response.data;\n\n      // Store tokens in cookies\n      Cookies.set('token', token, {\n        expires: 7,\n        secure: process.env.NODE_ENV === 'production',\n        sameSite: 'strict'\n      });\n      if (refreshToken) {\n        Cookies.set('refreshToken', refreshToken, {\n          expires: 30,\n          secure: process.env.NODE_ENV === 'production',\n          sameSite: 'strict'\n        });\n      }\n      dispatch({\n        type: 'LOGIN_SUCCESS',\n        payload: {\n          user,\n          token\n        }\n      });\n      return {\n        success: true,\n        user\n      };\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      const errorMessage = ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Registration failed';\n      dispatch({\n        type: 'LOGIN_FAILURE',\n        payload: errorMessage\n      });\n      return {\n        success: false,\n        error: errorMessage\n      };\n    }\n  };\n\n  // Logout function\n  const logout = async () => {\n    try {\n      // Call logout API if needed\n      await authAPI.logout();\n    } catch (error) {\n      console.error('Logout API error:', error);\n    } finally {\n      // Clear tokens and state regardless of API call result\n      Cookies.remove('token');\n      Cookies.remove('refreshToken');\n\n      // Clear all cached data\n      queryClient.clear();\n      dispatch({\n        type: 'LOGOUT'\n      });\n    }\n  };\n\n  // Update user profile\n  const updateProfile = async userData => {\n    try {\n      const response = await authAPI.updateProfile(userData);\n      const updatedUser = response.data.user;\n      dispatch({\n        type: 'UPDATE_USER',\n        payload: updatedUser\n      });\n      return {\n        success: true,\n        user: updatedUser\n      };\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      const errorMessage = ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || 'Profile update failed';\n      return {\n        success: false,\n        error: errorMessage\n      };\n    }\n  };\n\n  // Change password\n  const changePassword = async passwordData => {\n    try {\n      await authAPI.changePassword(passwordData);\n      return {\n        success: true\n      };\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      const errorMessage = ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || 'Password change failed';\n      return {\n        success: false,\n        error: errorMessage\n      };\n    }\n  };\n\n  // Forgot password\n  const forgotPassword = async email => {\n    try {\n      await authAPI.forgotPassword({\n        email\n      });\n      return {\n        success: true\n      };\n    } catch (error) {\n      var _error$response5, _error$response5$data;\n      const errorMessage = ((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : (_error$response5$data = _error$response5.data) === null || _error$response5$data === void 0 ? void 0 : _error$response5$data.message) || 'Password reset request failed';\n      return {\n        success: false,\n        error: errorMessage\n      };\n    }\n  };\n\n  // Reset password\n  const resetPassword = async (token, password) => {\n    try {\n      await authAPI.resetPassword(token, {\n        password\n      });\n      return {\n        success: true\n      };\n    } catch (error) {\n      var _error$response6, _error$response6$data;\n      const errorMessage = ((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : (_error$response6$data = _error$response6.data) === null || _error$response6$data === void 0 ? void 0 : _error$response6$data.message) || 'Password reset failed';\n      return {\n        success: false,\n        error: errorMessage\n      };\n    }\n  };\n\n  // Verify email\n  const verifyEmail = async token => {\n    try {\n      await authAPI.verifyEmail(token);\n\n      // Update user verification status\n      dispatch({\n        type: 'UPDATE_USER',\n        payload: {\n          isVerified: true\n        }\n      });\n      return {\n        success: true\n      };\n    } catch (error) {\n      var _error$response7, _error$response7$data;\n      const errorMessage = ((_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : (_error$response7$data = _error$response7.data) === null || _error$response7$data === void 0 ? void 0 : _error$response7$data.message) || 'Email verification failed';\n      return {\n        success: false,\n        error: errorMessage\n      };\n    }\n  };\n\n  // Resend verification email\n  const resendVerification = async () => {\n    try {\n      await authAPI.resendVerification();\n      return {\n        success: true\n      };\n    } catch (error) {\n      var _error$response8, _error$response8$data;\n      const errorMessage = ((_error$response8 = error.response) === null || _error$response8 === void 0 ? void 0 : (_error$response8$data = _error$response8.data) === null || _error$response8$data === void 0 ? void 0 : _error$response8$data.message) || 'Failed to resend verification email';\n      return {\n        success: false,\n        error: errorMessage\n      };\n    }\n  };\n\n  // Clear error\n  const clearError = () => {\n    dispatch({\n      type: 'CLEAR_ERROR'\n    });\n  };\n\n  // Check if user has specific role\n  const hasRole = role => {\n    var _state$user;\n    return ((_state$user = state.user) === null || _state$user === void 0 ? void 0 : _state$user.role) === role;\n  };\n\n  // Check if user has any of the specified roles\n  const hasAnyRole = roles => {\n    var _state$user2;\n    return roles.includes((_state$user2 = state.user) === null || _state$user2 === void 0 ? void 0 : _state$user2.role);\n  };\n\n  // Check if user is admin\n  const isAdmin = () => {\n    return hasRole('admin');\n  };\n\n  // Check if user is seller\n  const isSeller = () => {\n    return hasRole('seller');\n  };\n\n  // Get user's full name\n  const getFullName = () => {\n    if (!state.user) return '';\n    return `${state.user.firstName} ${state.user.lastName}`;\n  };\n\n  // Get user's initials\n  const getInitials = () => {\n    var _state$user$firstName, _state$user$lastName;\n    if (!state.user) return '';\n    return `${((_state$user$firstName = state.user.firstName) === null || _state$user$firstName === void 0 ? void 0 : _state$user$firstName[0]) || ''}${((_state$user$lastName = state.user.lastName) === null || _state$user$lastName === void 0 ? void 0 : _state$user$lastName[0]) || ''}`.toUpperCase();\n  };\n  const value = {\n    // State\n    ...state,\n    // Actions\n    login,\n    register,\n    logout,\n    updateProfile,\n    changePassword,\n    forgotPassword,\n    resetPassword,\n    verifyEmail,\n    resendVerification,\n    clearError,\n    // Utility functions\n    hasRole,\n    hasAnyRole,\n    isAdmin,\n    isSeller,\n    getFullName,\n    getInitials\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 350,\n    columnNumber: 5\n  }, this);\n};\n\n// Custom hook to use auth context\n_s(AuthProvider, \"BZ6XGcxXiMcCXxn4R+WXQARGw4U=\", false, function () {\n  return [useQueryClient];\n});\n_c = AuthProvider;\nexport const useAuth = () => {\n  _s2();\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n_s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport default AuthContext;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","useQuery","useQueryClient","Cookies","authAPI","jsxDEV","_jsxDEV","AuthContext","authReducer","state","action","type","loading","error","isAuthenticated","user","payload","token","initialState","AuthProvider","children","_s","dispatch","queryClient","get","getProfile","then","response","data","catch","remove","login","credentials","refreshToken","set","expires","rememberMe","secure","process","env","NODE_ENV","sameSite","success","_error$response","_error$response$data","errorMessage","message","register","userData","_error$response2","_error$response2$data","logout","console","clear","updateProfile","updatedUser","_error$response3","_error$response3$data","changePassword","passwordData","_error$response4","_error$response4$data","forgotPassword","email","_error$response5","_error$response5$data","resetPassword","password","_error$response6","_error$response6$data","verifyEmail","isVerified","_error$response7","_error$response7$data","resendVerification","_error$response8","_error$response8$data","clearError","hasRole","role","_state$user","hasAnyRole","roles","_state$user2","includes","isAdmin","isSeller","getFullName","firstName","lastName","getInitials","_state$user$firstName","_state$user$lastName","toUpperCase","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useAuth","_s2","context","Error","$RefreshReg$"],"sources":["C:/Users/gmudamali/Downloads/EcommerceApplication/client/src/context/AuthContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport { useQuery, useQueryClient } from 'react-query';\nimport Cookies from 'js-cookie';\nimport { authAPI } from '../services/api';\n\nconst AuthContext = createContext();\n\n// Auth reducer\nconst authReducer = (state, action) => {\n  switch (action.type) {\n    case 'LOGIN_START':\n      return {\n        ...state,\n        loading: true,\n        error: null\n      };\n    \n    case 'LOGIN_SUCCESS':\n      return {\n        ...state,\n        loading: false,\n        isAuthenticated: true,\n        user: action.payload.user,\n        token: action.payload.token,\n        error: null\n      };\n    \n    case 'LOGIN_FAILURE':\n      return {\n        ...state,\n        loading: false,\n        isAuthenticated: false,\n        user: null,\n        token: null,\n        error: action.payload\n      };\n    \n    case 'LOGOUT':\n      return {\n        ...state,\n        loading: false,\n        isAuthenticated: false,\n        user: null,\n        token: null,\n        error: null\n      };\n    \n    case 'UPDATE_USER':\n      return {\n        ...state,\n        user: { ...state.user, ...action.payload }\n      };\n    \n    case 'SET_LOADING':\n      return {\n        ...state,\n        loading: action.payload\n      };\n    \n    case 'CLEAR_ERROR':\n      return {\n        ...state,\n        error: null\n      };\n    \n    default:\n      return state;\n  }\n};\n\n// Initial state\nconst initialState = {\n  isAuthenticated: false,\n  user: null,\n  token: null,\n  loading: true,\n  error: null\n};\n\nexport const AuthProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, initialState);\n  const queryClient = useQueryClient();\n\n  // Check for existing token on mount\n  useEffect(() => {\n    const token = Cookies.get('token');\n    if (token) {\n      // Verify token and get user data\n      authAPI.getProfile()\n        .then(response => {\n          dispatch({\n            type: 'LOGIN_SUCCESS',\n            payload: {\n              user: response.data.user,\n              token\n            }\n          });\n        })\n        .catch(() => {\n          // Token is invalid, remove it\n          Cookies.remove('token');\n          Cookies.remove('refreshToken');\n          dispatch({ type: 'LOGOUT' });\n        });\n    } else {\n      dispatch({ type: 'SET_LOADING', payload: false });\n    }\n  }, []);\n\n  // Login function\n  const login = async (credentials) => {\n    try {\n      dispatch({ type: 'LOGIN_START' });\n      \n      const response = await authAPI.login(credentials);\n      const { user, token, refreshToken } = response.data;\n\n      // Store tokens in cookies\n      Cookies.set('token', token, { \n        expires: credentials.rememberMe ? 30 : 7,\n        secure: process.env.NODE_ENV === 'production',\n        sameSite: 'strict'\n      });\n      \n      if (refreshToken) {\n        Cookies.set('refreshToken', refreshToken, { \n          expires: 30,\n          secure: process.env.NODE_ENV === 'production',\n          sameSite: 'strict'\n        });\n      }\n\n      dispatch({\n        type: 'LOGIN_SUCCESS',\n        payload: { user, token }\n      });\n\n      return { success: true, user };\n    } catch (error) {\n      const errorMessage = error.response?.data?.message || 'Login failed';\n      dispatch({\n        type: 'LOGIN_FAILURE',\n        payload: errorMessage\n      });\n      return { success: false, error: errorMessage };\n    }\n  };\n\n  // Register function\n  const register = async (userData) => {\n    try {\n      dispatch({ type: 'LOGIN_START' });\n      \n      const response = await authAPI.register(userData);\n      const { user, token, refreshToken } = response.data;\n\n      // Store tokens in cookies\n      Cookies.set('token', token, { \n        expires: 7,\n        secure: process.env.NODE_ENV === 'production',\n        sameSite: 'strict'\n      });\n      \n      if (refreshToken) {\n        Cookies.set('refreshToken', refreshToken, { \n          expires: 30,\n          secure: process.env.NODE_ENV === 'production',\n          sameSite: 'strict'\n        });\n      }\n\n      dispatch({\n        type: 'LOGIN_SUCCESS',\n        payload: { user, token }\n      });\n\n      return { success: true, user };\n    } catch (error) {\n      const errorMessage = error.response?.data?.message || 'Registration failed';\n      dispatch({\n        type: 'LOGIN_FAILURE',\n        payload: errorMessage\n      });\n      return { success: false, error: errorMessage };\n    }\n  };\n\n  // Logout function\n  const logout = async () => {\n    try {\n      // Call logout API if needed\n      await authAPI.logout();\n    } catch (error) {\n      console.error('Logout API error:', error);\n    } finally {\n      // Clear tokens and state regardless of API call result\n      Cookies.remove('token');\n      Cookies.remove('refreshToken');\n      \n      // Clear all cached data\n      queryClient.clear();\n      \n      dispatch({ type: 'LOGOUT' });\n    }\n  };\n\n  // Update user profile\n  const updateProfile = async (userData) => {\n    try {\n      const response = await authAPI.updateProfile(userData);\n      const updatedUser = response.data.user;\n      \n      dispatch({\n        type: 'UPDATE_USER',\n        payload: updatedUser\n      });\n\n      return { success: true, user: updatedUser };\n    } catch (error) {\n      const errorMessage = error.response?.data?.message || 'Profile update failed';\n      return { success: false, error: errorMessage };\n    }\n  };\n\n  // Change password\n  const changePassword = async (passwordData) => {\n    try {\n      await authAPI.changePassword(passwordData);\n      return { success: true };\n    } catch (error) {\n      const errorMessage = error.response?.data?.message || 'Password change failed';\n      return { success: false, error: errorMessage };\n    }\n  };\n\n  // Forgot password\n  const forgotPassword = async (email) => {\n    try {\n      await authAPI.forgotPassword({ email });\n      return { success: true };\n    } catch (error) {\n      const errorMessage = error.response?.data?.message || 'Password reset request failed';\n      return { success: false, error: errorMessage };\n    }\n  };\n\n  // Reset password\n  const resetPassword = async (token, password) => {\n    try {\n      await authAPI.resetPassword(token, { password });\n      return { success: true };\n    } catch (error) {\n      const errorMessage = error.response?.data?.message || 'Password reset failed';\n      return { success: false, error: errorMessage };\n    }\n  };\n\n  // Verify email\n  const verifyEmail = async (token) => {\n    try {\n      await authAPI.verifyEmail(token);\n      \n      // Update user verification status\n      dispatch({\n        type: 'UPDATE_USER',\n        payload: { isVerified: true }\n      });\n\n      return { success: true };\n    } catch (error) {\n      const errorMessage = error.response?.data?.message || 'Email verification failed';\n      return { success: false, error: errorMessage };\n    }\n  };\n\n  // Resend verification email\n  const resendVerification = async () => {\n    try {\n      await authAPI.resendVerification();\n      return { success: true };\n    } catch (error) {\n      const errorMessage = error.response?.data?.message || 'Failed to resend verification email';\n      return { success: false, error: errorMessage };\n    }\n  };\n\n  // Clear error\n  const clearError = () => {\n    dispatch({ type: 'CLEAR_ERROR' });\n  };\n\n  // Check if user has specific role\n  const hasRole = (role) => {\n    return state.user?.role === role;\n  };\n\n  // Check if user has any of the specified roles\n  const hasAnyRole = (roles) => {\n    return roles.includes(state.user?.role);\n  };\n\n  // Check if user is admin\n  const isAdmin = () => {\n    return hasRole('admin');\n  };\n\n  // Check if user is seller\n  const isSeller = () => {\n    return hasRole('seller');\n  };\n\n  // Get user's full name\n  const getFullName = () => {\n    if (!state.user) return '';\n    return `${state.user.firstName} ${state.user.lastName}`;\n  };\n\n  // Get user's initials\n  const getInitials = () => {\n    if (!state.user) return '';\n    return `${state.user.firstName?.[0] || ''}${state.user.lastName?.[0] || ''}`.toUpperCase();\n  };\n\n  const value = {\n    // State\n    ...state,\n    \n    // Actions\n    login,\n    register,\n    logout,\n    updateProfile,\n    changePassword,\n    forgotPassword,\n    resetPassword,\n    verifyEmail,\n    resendVerification,\n    clearError,\n    \n    // Utility functions\n    hasRole,\n    hasAnyRole,\n    isAdmin,\n    isSeller,\n    getFullName,\n    getInitials\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\n// Custom hook to use auth context\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n\nexport default AuthContext;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}